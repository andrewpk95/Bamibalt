!function(){"use strict";var e,t={5780:function(e,t,r){r.p;var n,o,i=r(2260),c=r.n(i),u=r(8386),a=r(9044);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(8304),r(4812),r(489),r(1539),r(2419),r(8011),r(9070),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948),function(e){e[e.Classic=0]="Classic",e[e.Extreme=1]="Extreme",e[e.Estelle=2]="Estelle"}(o||(o={}));var s,l=(f(n={},o.Classic,{text:"TitleScene_Mode_Classic"}),f(n,o.Extreme,{text:"TitleScene_Mode_Extreme"}),f(n,o.Estelle,{text:"TitleScene_Mode_Estelle"}),n);function p(e){var t=l[e];return t?t.text:"TitleScene_Mode_Classic"}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h,d,b={camera:{offsetX:200,damagedOffsetX:400,offsetY:200},bamiko:{jumpVelocity:900,maxJumpDuration:.25,doubleJumpVelocity:800,maxDoubleJumpDuration:.2},yuri:{followDistance:300},obstacle:{building:{height:300}},difficulty:(s={},y(s,o.Classic,{levels:[{level:1,gap:450,minSpeed:500,maxSpeed:700,acceleration:100,recoverTime:5,toNextLevelTime:10},{level:2,gap:500,minSpeed:600,maxSpeed:850,acceleration:125,recoverTime:6,toNextLevelTime:15},{level:3,gap:550,minSpeed:700,maxSpeed:1e3,acceleration:150,recoverTime:7,toNextLevelTime:20},{level:4,gap:700,minSpeed:1e3,maxSpeed:1300,acceleration:200,recoverTime:8,toNextLevelTime:30},{level:5,gap:900,minSpeed:1400,maxSpeed:1700,acceleration:300,recoverTime:9,toNextLevelTime:15}]}),y(s,o.Extreme,{levels:[{level:1,gap:550,minSpeed:700,maxSpeed:1e3,acceleration:150,recoverTime:7,toNextLevelTime:10},{level:2,gap:700,minSpeed:1e3,maxSpeed:1300,acceleration:200,recoverTime:8,toNextLevelTime:20},{level:3,gap:900,minSpeed:1400,maxSpeed:1700,acceleration:300,recoverTime:9,toNextLevelTime:15}]}),y(s,o.Estelle,{levels:[{level:1,gap:450,minSpeed:500,maxSpeed:700,acceleration:100,recoverTime:5,toNextLevelTime:10},{level:2,gap:500,minSpeed:600,maxSpeed:850,acceleration:125,recoverTime:6,toNextLevelTime:15},{level:3,gap:550,minSpeed:700,maxSpeed:1e3,acceleration:150,recoverTime:7,toNextLevelTime:20},{level:4,gap:700,minSpeed:1e3,maxSpeed:1300,acceleration:200,recoverTime:8,toNextLevelTime:30},{level:5,gap:900,minSpeed:1400,maxSpeed:1700,acceleration:300,recoverTime:9,toNextLevelTime:15}]}),s)};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=g(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},w.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}r(9554),r(4747),r(9601),r(4819),r(5003),function(e){e.TitleScreen="titlescreen",e.GameOverScreen="gameoverscreen",e.Bamiko="bamiko",e.Yuri="yuri",e.Estelle="estelle",e.Object="object",e.Ground="ground",e.BuildingTop="buildingtop",e.BuildingBottom="buildingbottom",e.BuildingInside="buildinginside",e.Sky="sky",e.BGBuildingFront="bgbuildingfront",e.BGBuildingBack="bgbuildingback"}(h||(h={})),function(e){e.Box="box",e.Window="window",e.BillBoard="billboard",e.Platform="platform",e.VolumeButtonOn="volume_button_on",e.VolumeButtonOff="volume_button_off",e.Description1="description1",e.Description2="description2",e.Finger="finger"}(d||(d={}));var _,x,k,R=[{scrollX:.1,scrollY:.1,texture:h.Sky},{scrollX:.25,scrollY:.25,texture:h.BGBuildingBack},{scrollX:.5,scrollY:.5,texture:h.BGBuildingFront}],T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).backgrounds=[],t.initializeComponents(),t.scene.add.existing(j(t)),t.scene.events.on("update",t.update,j(t)),t}return t=c,(r=[{key:"initializeComponents",value:function(){var e=this;R.forEach((function(t){var r=t.scrollY,n=t.texture,o=t.frame,i=e.createTileSprite(r,n,o);e.add(i),e.backgrounds.push(Object.assign(Object.assign({},t),{tileSprite:i}))}))}},{key:"createTileSprite",value:function(e,t,r){var n=this.scene.scale,o=n.width,i=n.height,c=this.scene.textures.getFrame(t,r).height,u=this.scene.add.tileSprite(0,i,o,c,t,r);return u.setOrigin(0,1).setScrollFactor(0,e),u}},{key:"update",value:function(){for(var e=0;e<this.backgrounds.length;e++){var t=this.backgrounds[e],r=t.scrollX;t.tileSprite.tilePositionX=this.scene.cameras.main.scrollX*r}}},{key:"destroy",value:function(e){this.scene&&(this.scene.events.off("update",this.update),w(P(c.prototype),"destroy",this).call(this,e))}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(c().GameObjects.Container);!function(e){e.Title="title",e.Bamibalt="bamibalt",e.Yuri="yuri",e.Estelle="estelle",e.GameOver="gameover"}(_||(_={})),function(e){e.WindowCrash="windowcrash",e.Jump="jump",e.Collision="collision",e.Splat="splat",e.Land="land",e.Plane="plane",e.ButtonClick="buttonclick",e.Fall="fall",e.Warning="warning",e.Select="select",e.RunAway="runaway"}(x||(x={})),function(e){e[e.Sky=0]="Sky",e[e.Background=1]="Background",e[e.BuildingInside=10]="BuildingInside",e[e.Building=11]="Building",e[e.Ground=15]="Ground",e[e.BillboardPicture=19]="BillboardPicture",e[e.Obstacles=20]="Obstacles",e[e.Bamiko=100]="Bamiko",e[e.Yuri=101]="Yuri"}(k||(k={}));var E,B=k;function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=I(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},z.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function F(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}!function(e){e[e.None=0]="None",e[e.Jumping=1]="Jumping",e[e.DoubleJumping=2]="DoubleJumping"}(E||(E={}));var M="bamiko_run_",L="bamiko_jump_",N="bamiko_ouch_0000",V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,r,n,i,u=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(n);if(i){var r=G(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return F(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=u.call(this,e,0,0,h.Bamiko,N)).jumpState=E.None,r.currentJumpTime=0,r.isDamaged=!1,r.isDead=!1,r.currentRecoverTime=0,r.hasDoubleJump=!0,r.wasGrounded=!1,r.difficulty=t,r.scene.add.existing(A(r)),r.scene.physics.add.existing(A(r),!1),r.setOrigin(.5,.5).setDepth(B.Bamiko),r.body.setSize(60,130,!1).setOffset(30,35),r.body.velocity.x=r.difficulty.getDifficultySettings().minSpeed,r.scene.anims.create({key:M,frames:r.scene.anims.generateFrameNames(h.Bamiko,{prefix:M,end:7,zeroPad:4}),frameRate:12,repeat:-1}),r.scene.anims.create({key:L,frames:r.scene.anims.generateFrameNames(h.Bamiko,{prefix:L,end:2,zeroPad:4}),frameRate:12}),r.scene.input.on("pointerdown",r.jump,A(r)),r.scene.input.on("pointerup",r.stopJumping,A(r)),r.scene.events.on("update",r.update,A(r)),r.play(M),r.isExtremeMode=r.scene.registry.get("mode")===o.Extreme,r}return t=a,(r=[{key:"isGrounded",get:function(){return!!this.body&&this.body.blocked.down}},{key:"jump",value:function(){if(!this.isDead){if(this.isGrounded)this.jumpState=E.Jumping,this.scene.sound.play(x.Jump),this.body.velocity.y=-b.bamiko.jumpVelocity;else{if(!this.hasDoubleJump)return;this.jumpState=E.DoubleJumping,this.hasDoubleJump=!1,this.scene.sound.play(x.Jump,{detune:500}),this.body.velocity.y=-b.bamiko.doubleJumpVelocity}this.damageTween||this.play(L)}}},{key:"stopJumping",value:function(){this.jumpState=E.None,this.currentJumpTime=0}},{key:"takeDamage",value:function(){var e,t=this;if(!this.isDead){this.scene.sound.play(x.Collision);var r=this.difficulty.getDifficultySettings().minSpeed;if(this.isDamaged||this.isExtremeMode)return this.die(),this.setFrame(N),void this.emit("damagedeath");null===(e=this.damageTween)||void 0===e||e.stop(),this.damageTween=this.scene.tweens.add({targets:this,scale:1,duration:50,repeat:8,yoyo:!0,onStart:function(){t.stop(),t.setFrame(N),t.setTintFill(16777215)},onRepeat:function(){t.setTintFill(16777215)},onYoyo:function(){t.clearTint()},onComplete:function(){t.clearTint(),t.damageTween=null,t.isGrounded?t.play(M):t.play(L)}}),this.isDamaged=!0,this.body.velocity.x=r,this.emit("damaged")}}},{key:"splat",value:function(e){this.isDead||(this.scene.sound.play(x.Splat),this.die(),this.setX(e-this.width/2+8),this.setFrame("bamiko_splat_0000"),this.emit("splatdeath"))}},{key:"die",value:function(){this.stop(),this.isDead=!0,this.scene.physics.world.remove(this.body)}},{key:"update",value:function(e,t){if(!this.isDead){var r=t/1e3;this.updatePhysics(r),this.updateRecoverTime(r)}}},{key:"updatePhysics",value:function(e){var t=this.difficulty.getDifficultySettings(),r=t.maxSpeed,n=t.acceleration;if(this.body.position.y>this.scene.scale.gameSize.height+this.body.height)return this.scene.sound.play(x.Fall),this.die(),void this.emit("falldeath");if(!this.wasGrounded&&this.isGrounded?(this.hasDoubleJump=!0,this.scene.sound.play(x.Land),this.damageTween||this.play(M)):this.wasGrounded&&!this.isGrounded&&(this.damageTween||this.play(L)),this.wasGrounded=this.isGrounded,this.isDamaged||(this.body.velocity.x+=n*e),this.body.velocity.x=c().Math.Clamp(this.body.velocity.x,0,r),this.anims.timeScale=c().Math.Clamp(this.body.velocity.x/800,1,1.75),this.jumpState!==E.None){this.currentJumpTime+=e;var o=this.jumpState===E.Jumping?b.bamiko.maxJumpDuration:b.bamiko.maxDoubleJumpDuration;this.currentJumpTime>=o?this.stopJumping():this.body.velocity.y=this.jumpState===E.Jumping?-b.bamiko.jumpVelocity:-b.bamiko.doubleJumpVelocity}}},{key:"updateRecoverTime",value:function(e){var t=this.difficulty.getDifficultySettings().recoverTime;this.isDamaged&&(this.currentRecoverTime+=e,this.currentRecoverTime>=t&&(this.isDamaged=!1,this.currentRecoverTime=0,this.emit("recover")))}},{key:"destroy",value:function(e){this.scene&&(this.scene.input.off("pointerdown",this.jump),this.scene.input.off("pointerup",this.stopJumping),this.scene.events.off("update",this.update),z(G(a.prototype),"destroy",this).call(this,e))}}])&&D(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(c().GameObjects.Sprite);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(){return X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=H(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},X.apply(this,arguments)}function H(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function W(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(n);if(o){var r=Z(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return W(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).currentTime=0,t.currentLevel=1,t.scene.add.existing(q(t)),t.scene.events.on("update",t.update,q(t)),t}return t=c,(r=[{key:"update",value:function(e,t){if(this.currentLevel!==this.getMaxLevel()){var r=t/1e3;this.currentTime+=r,this.currentTime>this.getDifficultySettings().toNextLevelTime&&(this.currentLevel++,this.currentTime=0,this.emit("levelup",this.currentLevel))}}},{key:"getDifficultySettings",value:function(){return b.difficulty[this.scene.registry.get("mode")].levels[this.currentLevel-1]}},{key:"getMaxLevel",value:function(){return b.difficulty[this.scene.registry.get("mode")].levels.length}},{key:"destroy",value:function(e){this.scene.events.off("update",this.update),X(Z(c.prototype),"destroy",this).call(this,e)}}])&&Y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(c().GameObjects.Container);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(){return te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=re(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},te.apply(this,arguments)}function re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(u,e);var t,r,n,i,c=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(n);if(i){var r=ce(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return oe(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).initializeComponents(),t.scene.add.existing(ie(t)),t.play(),t.yuriTheme.pause(),t}return t=u,(r=[{key:"initializeComponents",value:function(){var e=this.scene.registry.get("mode")===o.Estelle;this.bamibalt=this.scene.sound.add(e?_.Estelle:_.Bamibalt,{loop:!0}),this.yuriTheme=this.scene.sound.add(_.Yuri,{loop:!0,volume:0})}},{key:"getFadeInTween",value:function(e){return this.scene.tweens.add({targets:e,volume:1,duration:500})}},{key:"getFadeOutTween",value:function(e){return this.scene.tweens.add({targets:e,volume:0,duration:500,onComplete:function(){e.pause()}})}},{key:"stopFadeTweens",value:function(){var e,t;null===(e=this.bamibaltFadeTween)||void 0===e||e.stop(),null===(t=this.yuriThemeFadeTween)||void 0===t||t.stop()}},{key:"play",value:function(){this.bamibalt.play(),this.yuriTheme.play()}},{key:"switchToYuriTheme",value:function(){this.stopFadeTweens(),this.yuriTheme.resume(),this.bamibaltFadeTween=this.getFadeOutTween(this.bamibalt),this.yuriThemeFadeTween=this.getFadeInTween(this.yuriTheme)}},{key:"switchToBamibaltTheme",value:function(){this.stopFadeTweens(),this.bamibalt.resume(),this.bamibaltFadeTween=this.getFadeInTween(this.bamibalt),this.yuriThemeFadeTween=this.getFadeOutTween(this.yuriTheme)}},{key:"stop",value:function(){this.bamibalt.stop(),this.yuriTheme.stop()}},{key:"destroy",value:function(e){this.scene&&(this.stop(),te(ce(u.prototype),"destroy",this).call(this,e))}}])&&ee(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().GameObjects.Container);function ae(e,t,r){return ae=fe()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&se(o,r.prototype),o},ae.apply(null,arguments)}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(9753),r(1038),r(7042),r(8309),r(4916);var ye=function(){function e(t,r){var n=r.initCount,o=void 0===n?0:n,i=r.defaultArgs;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pool=[],this.create=function(){return ae(t,(e=i,function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).kill();var e};for(var c=0;c<o;c++){var u=this.create();this.pool.push(u)}}var t,r;return t=e,r=[{key:"get",value:function(e,t,r){var n=this.pool.length?this.pool.pop():this.create();return n.reset(e,t,r),n}},{key:"return",value:function(e){e.kill(),this.pool.push(e)}}],r&&pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function be(){return be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=me(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},be.apply(this,arguments)}function me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ge(e)););return e}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function we(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ge(n);if(o){var r=ge(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return we(this,e)});function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t,{initCount:0,defaultArgs:[e,r]})).bamiko=r,n}return t=c,r=[{key:"get",value:function(e,t,r){var n=this,o=be(ge(c.prototype),"get",this).call(this,e,t,r);return o.once("expired",(function(){n.return(o)})),this.group.add(o),o}},{key:"return",value:function(e){be(ge(c.prototype),"return",this).call(this,e),e.removeAllListeners("expired"),this.group.remove(e)}}],r&&de(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(ye);function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(){return Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_e(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pe.apply(this,arguments)}function _e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Te(e)););return e}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}function ke(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(n);if(o){var r=Te(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ke(this,e)});function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e,0,0,"")).handleUpdate=function(){return r.update()},r.name="".concat(c().Math.Between(1,1e8)),r.bamiko=t,r.initialize(),r.scene.add.existing(Re(r)),r}return t=u,(r=[{key:"update",value:function(){this.bamiko&&this.bamiko.body.position.x>this.x+this.width+this.scene.scale.gameSize.width&&this.emit("expired")}},{key:"kill",value:function(){return this.active?(this.scene.events.off("update",this.handleUpdate),this.scene.physics.world.remove(this.body),this.setActive(!1),this.setVisible(!1),this):this}},{key:"reset",value:function(e,t,r){return this.active||(this.setPosition(e,t),this.setActive(!0),this.setVisible(!0),this.scene.physics.world.add(this.body),this.body.reset(e,t),this.scene.events.on("update",this.handleUpdate)),this}},{key:"destroy",value:function(e){this.scene&&(this.scene.events.off("update",this.handleUpdate),Pe(Te(u.prototype),"destroy",this).call(this,e))}}])&&je(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().GameObjects.Sprite);function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Ie(e,t){if(t&&("object"===Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(n);if(o){var r=Ue(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ie(this,e)});function c(){return Ce(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"initialize",value:function(){this.setTexture(h.Object,d.Box).setOrigin(0,0).setDepth(B.Obstacles),this.scene.physics.add.existing(this,!1),this.body.setSize(80,90,!1).setOffset(10,10),this.particle=this.scene.add.particles(h.Object,d.Box).setDepth(B.Obstacles),this.emitter=this.particle.createEmitter({quantity:1,angle:{min:-45,max:-30},speed:{min:400,max:1e3},rotate:{start:0,end:720},gravityY:3e3,lifespan:{min:1e3,max:2e3},frequency:-1})}},{key:"crash",value:function(e){this.emitter.setSpeed({min:e,max:2*e}),this.particle.emitParticleAt(this.x+this.width/2,this.y+this.height/2)}}])&&De(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function Me(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Le(r);if(n){var o=Le(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Me(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,Fe,t)).group=e.physics.add.group(),e.physics.add.overlap(t,r.group,(function(e,t){t.crash(e.body.velocity.x),r.return(t),r.bamiko.takeDamage()})),r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Oe);function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Je(e,t,r){return t&&Ve(e.prototype,t),r&&Ve(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ye=Je((function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.bamiko=r,this.difficulty=n}));function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function We(e,t){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},We(e,t)}function qe(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ze(n);if(o){var r=Ze(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return qe(this,e)});function c(){return He(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"initialize",value:function(){this.setTexture(h.Ground).setOrigin(0,0).setDepth(B.Ground),this.scene.physics.add.existing(this,!0)}}])&&$e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rt(r);if(n){var o=rt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return tt(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,Ke,t)).group=e.physics.add.staticGroup(),e.physics.add.collider(t,r.group,(function(e,r){e.body.touching.right&&t.splat(r.body.x)})),r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Oe);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ut(e,t)}function at(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(n);if(o){var r=ft(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return at(this,e)});function c(){var e;return it(this,c),(e=i.apply(this,arguments)).width=2e3,e.groundPool=new nt(e.scene,e.bamiko),e.boxPool=new Ne(e.scene,e.bamiko),e}return t=c,r=[{key:"spawn",value:function(e,t){var r=this.groundPool.get(e,t),n=this.boxPool.get(e+Phaser.Math.Between(500,1500),t-100);this.scene.physics.add.collider(r,n)}}],r&&ct(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ye);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(){return ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=dt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ht.apply(this,arguments)}function dt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vt(e)););return e}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function mt(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vt(n);if(o){var r=vt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return mt(this,e)});function c(){return pt(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"initialize",value:function(){var e=this,t=this.scene.add.sprite(0,0,h.BuildingInside).setOrigin(0,.5).setDepth(B.BuildingInside),r=this.scene.add.sprite(0,0,h.BuildingTop).setOrigin(0,1).setDepth(B.Building);this.setTexture(h.BuildingBottom).setOrigin(0,0).setDepth(B.Building),this.buildingTop=r,this.buildingInside=t,this.scene.physics.add.existing(this,!0),this.scene.physics.add.existing(this.buildingTop,!0),this.scene.physics.add.collider(this.bamiko,this,(function(t){t.body.touching.right&&e.bamiko.splat(e.x)})),this.scene.physics.add.collider(this.bamiko,this.buildingTop,(function(t){t.body.touching.right&&e.bamiko.splat(e.x)}))}},{key:"kill",value:function(){return this.scene.physics.world.remove(this.buildingTop.body),this.buildingTop.setActive(!1),this.buildingTop.setVisible(!1),this.buildingInside.setActive(!1),this.buildingInside.setVisible(!1),ht(vt(c.prototype),"kill",this).call(this)}},{key:"reset",value:function(e,t){var r=b.obstacle.building.height;return this.buildingTop.setPosition(e,t-r),this.buildingTop.setActive(!0),this.buildingTop.setVisible(!0),this.buildingInside.setPosition(e,t-r/2),this.buildingInside.setActive(!0),this.buildingInside.setVisible(!0),this.scene.physics.world.add(this.buildingTop.body),this.buildingTop.body.reset(e,t-r),ht(vt(c.prototype),"reset",this).call(this,e,t)}}])&&yt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function Ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function St(){return St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=jt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},St.apply(this,arguments)}function jt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xt(e)););return e}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}function _t(e,t){if(t&&("object"===gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xt(n);if(o){var r=xt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _t(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e,wt,t)).group=e.physics.add.staticGroup(),e.physics.add.collider(t,r.group,(function(e,r){e.body.touching.right&&t.splat(r.body.x)})),r}return t=c,r=[{key:"get",value:function(e,t,r){var n=St(xt(c.prototype),"get",this).call(this,e,t,r);return this.group.add(n.buildingTop),n}},{key:"return",value:function(e){this.group.remove(e.buildingTop),St(xt(c.prototype),"return",this).call(this,e)}}],r&&Ot(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Oe);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bt(){return Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ct(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bt.apply(this,arguments)}function Ct(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=It(e)););return e}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function zt(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},It(e)}r(1249);var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=It(n);if(o){var r=It(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return zt(this,e)});function c(){var e;return Tt(this,c),(e=i.apply(this,arguments)).isCrashed=!1,e}return t=c,(r=[{key:"initialize",value:function(){this.setTexture(h.Object,d.Window).setOrigin(0,0).setDepth(B.Obstacles),this.scene.physics.add.existing(this,!0),this.particle=this.scene.add.particles(h.Object).setDepth(B.Obstacles),this.emitter=this.particle.createEmitter({frame:[0,1,2,3,4].map((function(e){return"window_shard_0".concat(e)})),quantity:20,angle:{min:-45,max:0},speed:{min:400,max:1e3},rotate:{start:0,end:720},gravityY:3e3,lifespan:{min:1e3,max:2e3},frequency:-1})}},{key:"crash",value:function(e){this.isCrashed||(this.scene.sound.play(x.WindowCrash,{volume:Phaser.Math.RND.realInRange(.5,.75),detune:50*Phaser.Math.Between(-2,4)}),this.setVisible(!1),this.emitter.setEmitZone({type:"random",source:this.getBounds()}),this.emitter.setSpeed({min:e,max:2*e}),this.particle.emitParticle(),this.isCrashed=!0)}},{key:"reset",value:function(e,t){return this.isCrashed=!1,Bt(It(c.prototype),"reset",this).call(this,e,t)}}])&&Et(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function Gt(e,t){if(t&&("object"===Ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mt(r);if(n){var o=Mt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Gt(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,Ut,t)).group=e.physics.add.staticGroup(),e.physics.add.overlap(t,r.group,(function(e,t){t.crash(e.body.velocity.x)})),r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Oe);function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}function Xt(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var $t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(n);if(o){var r=Ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Xt(this,e)});function c(){var e;return Vt(this,c),(e=i.apply(this,arguments)).width=2500,e.buildingPool=new kt(e.scene,e.bamiko),e.windowPool=new Lt(e.scene,e.bamiko),e}return t=c,(r=[{key:"spawn",value:function(e,t){var r=b.obstacle.building.height;this.buildingPool.get(e,t),this.windowPool.get(e,t-r),this.windowPool.get(e+this.width-10,t-r)}}])&&Jt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ye);function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kt(e,t){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kt(e,t)}function Qt(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}var tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=er(n);if(o){var r=er(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Qt(this,e)});function c(){var e;return qt(this,c),(e=i.apply(this,arguments)).width=2e3,e.groundPool=new nt(e.scene,e.bamiko),e}return t=c,(r=[{key:"spawn",value:function(e,t){this.groundPool.get(e,t)}}])&&Zt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ye);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ir(){return ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ir.apply(this,arguments)}function cr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fr(e)););return e}function ur(e,t){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ur(e,t)}function ar(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fr(e){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(e)}var sr="estelle_fly_",lr="estelle_hurt_0000",pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fr(n);if(o){var r=fr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ar(this,e)});function c(){var e;return nr(this,c),(e=i.apply(this,arguments)).isFlying=!1,e}return t=c,r=[{key:"initialize",value:function(){this.setTexture(h.Estelle,lr).setOrigin(0,0).setDepth(B.Obstacles),this.scene.physics.add.existing(this,!1),this.body.setSize(200,90,!1).setOffset(40,20),this.scene.anims.create({key:sr,frames:this.scene.anims.generateFrameNames(h.Estelle,{prefix:sr,end:2,zeroPad:4}),frameRate:12,repeat:-1}),this.particle=this.scene.add.particles(h.Estelle,lr).setDepth(B.Obstacles),this.emitter=this.particle.createEmitter({quantity:1,angle:{min:-45,max:-30},speed:{min:400,max:1e3},rotate:{start:0,end:2880},gravityY:3e3,lifespan:{min:2e3,max:4e3},frequency:-1})}},{key:"crash",value:function(e){this.emitter.setSpeed({min:e,max:2*e}),this.particle.emitParticleAt(this.x+this.width/2,this.y+this.height/2)}},{key:"update",value:function(){this.bamiko&&(this.bamiko.body.position.x>this.x+this.width+this.scene.scale.gameSize.width&&this.emit("expired"),this.isFlying||this.x<this.bamiko.body.position.x+this.scene.scale.gameSize.width&&(this.scene.sound.play(x.Plane,{detune:this.isAbove?300:0}),this.timeline=this.scene.tweens.createTimeline().add({targets:this,y:this.ground,duration:1e3,ease:"Quad.easeOut"}).add({targets:this,y:this.y,duration:3e3,ease:"Quad.easeIn"}).add({targets:this,x:"-=".concat(Phaser.Math.Between(500,1500)),duration:6e3,offset:0}),this.timeline.play(),this.isFlying=!0))}},{key:"kill",value:function(){var e;return null===(e=this.timeline)||void 0===e||e.stop(),this.stop(),ir(fr(c.prototype),"kill",this).call(this),this}},{key:"reset",value:function(e,t,r){var n=r.ground,o=r.isAbove;return this.isFlying=!1,this.ground=n,this.isAbove=o,this.play(sr),ir(fr(c.prototype),"reset",this).call(this,e,t)}}],r&&or(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function hr(e,t){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hr(e,t)}function dr(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},br(e)}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=br(r);if(n){var o=br(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return dr(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,pr,t)).group=e.physics.add.group({allowGravity:!1}),e.physics.add.overlap(t,r.group,(function(e,t){t.crash(e.body.velocity.x),r.return(t),r.bamiko.takeDamage()})),r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Oe);function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Or(e,t){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Or(e,t)}function Sr(e,t){if(t&&("object"===vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(e)}var Pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jr(n);if(o){var r=jr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Sr(this,e)});function c(){var e;return wr(this,c),(e=i.apply(this,arguments)).width=2e3,e.groundPool=new nt(e.scene,e.bamiko),e.planePool=new mr(e.scene,e.bamiko),e}return t=c,r=[{key:"spawn",value:function(e,t){var r=!!Phaser.Math.Between(0,1),n=r?this.bamiko.height+100:100,o=this.groundPool.get(e,t),i=this.planePool.get(e+Phaser.Math.Between(500,1500),t-1e3,{ground:t-n,isAbove:r});this.scene.physics.add.collider(o,i)}}],r&&gr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ye);function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rr(){return Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Tr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Rr.apply(this,arguments)}function Tr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cr(e)););return e}function Er(e,t){return Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Er(e,t)}function Br(e,t){if(t&&("object"===_r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}var Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Er(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cr(n);if(o){var r=Cr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Br(this,e)});function c(){return xr(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"initialize",value:function(){var e=this.scene.add.image(0,0,h.Object,d.BillBoard).setOrigin(0,0).setDepth(B.Obstacles),t=this.scene.add.image(0,0,h.Object,this.getPictureFrame(1)).setOrigin(0,0).setDepth(B.BillboardPicture).setTint(14540253);this.setTexture(h.Object,d.Platform).setOrigin(0,0).setDepth(B.Obstacles),this.billboard=e,this.picture=t,this.scene.physics.add.existing(this,!0),this.body.checkCollision.left=!1}},{key:"getPictureFrame",value:function(e){return"billboard_picture_0".concat(e)}},{key:"kill",value:function(){return this.billboard.setActive(!1),this.billboard.setVisible(!1),this.picture.setActive(!1),this.picture.setVisible(!1),Rr(Cr(c.prototype),"kill",this).call(this)}},{key:"reset",value:function(e,t,r){return this.billboard.setActive(!0),this.billboard.setVisible(!0),this.billboard.setPosition(e,t-340),this.picture.setActive(!0),this.picture.setVisible(!0),this.picture.setPosition(e,t-340),this.picture.setFrame(this.getPictureFrame(r)),Rr(Cr(c.prototype),"reset",this).call(this,e,t)}}])&&kr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ee);function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}function Ur(e,t){if(t&&("object"===zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}var Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fr(r);if(n){var o=Fr(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Ur(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,Dr,t)).group=e.physics.add.staticGroup(),e.physics.add.collider(t,r.group,void 0,(function(e){return e.body.velocity.y>=0})),r}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(Oe);function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lr(e,t){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lr(e,t)}function Nr(e,t){if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}var Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lr(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(n);if(o){var r=Vr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Nr(this,e)});function c(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e,t,r)).width=0,n.frames=[],n.currentFrameIndex=0,n.platformPool=new Ar(n.scene,n.bamiko),n.frames=Phaser.Math.RND.shuffle(Array.from({length:7},(function(e,t){return t+1}))),n}return t=c,(r=[{key:"spawn",value:function(e,t){var r=this.difficulty.getMaxLevel(),n=this.difficulty.getDifficultySettings(),o=n.level,i=n.gap,c=Phaser.Math.Between(1,Math.floor(o/r*3));this.width=0;for(var u=0;u<c;u++){var a=u>0?100*Phaser.Math.Between(-1,1):0,f=u>0?Phaser.Math.Between(i/2,i):0,s=this.frames[this.currentFrameIndex];this.platformPool.get(e+u*(600+f),t+a,s),this.width+=600+f,this.currentFrameIndex=(this.currentFrameIndex+1)%this.frames.length}}}])&&Mr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ye);function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hr(){return Hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=$r(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hr.apply(this,arguments)}function $r(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function qr(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(a,e);var t,r,n,i,u=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kr(n);if(i){var r=Kr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return qr(this,e)});function a(e,t){var r,n=t.bamiko,o=t.difficulty;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=u.call(this,e)).currentObstacleX=-300,r.currentObstacleY=800,r.obstacleGroups=[],r.bamiko=n,r.difficulty=o,r.obstacleGroups=r.createObstacleGroup(),r.scene.events.on("update",r.update,Zr(r)),r}return t=a,(r=[{key:"createObstacleGroup",value:function(){var e=new tr(this.scene,this.bamiko,this.difficulty),t=new st(this.scene,this.bamiko,this.difficulty),r=new $t(this.scene,this.bamiko,this.difficulty),n=new Pr(this.scene,this.bamiko,this.difficulty),i=new Jr(this.scene,this.bamiko,this.difficulty),c=this.scene.registry.get("mode");switch(this.spawnObstacle(r,100),this.spawnObstacle(e,800),c){case o.Extreme:return[e,t,t,t,t,r,r,n,n,n,n,i,i,i];case o.Estelle:return[e,t,r,n,n,n,n,n,n,n,n,n,n,i];case o.Classic:default:return[e,t,t,r,r,n,n,i]}}},{key:"update",value:function(){if(this.bamiko.x+this.scene.scale.gameSize.width>this.currentObstacleX){var e=c().Math.RND.pick(this.obstacleGroups);this.currentObstacleY+=50*c().Math.Between(1,4)*c().Math.RND.sign(),this.currentObstacleY=c().Math.Clamp(this.currentObstacleY,400,1e3),this.spawnObstacle(e)}}},{key:"spawnObstacle",value:function(e,t){e.spawn(this.currentObstacleX,null!=t?t:this.currentObstacleY),this.currentObstacleX+=e.width+this.difficulty.getDifficultySettings().gap}},{key:"destroy",value:function(e){this.scene.events.off("update",this.update),Hr(Kr(a.prototype),"destroy",this).call(this,e)}}])&&Xr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(c().GameObjects.Container);function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rn(){return rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=nn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rn.apply(this,arguments)}function nn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=an(e)););return e}function on(e,t){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},on(e,t)}function cn(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return un(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}r(9826);var fn="yuri_run_",sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=an(n);if(o){var r=an(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return cn(this,e)});function u(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e,-b.yuri.followDistance,0,h.Yuri)).positions=[],n.setDepth(B.Yuri),n.bamiko=t,n.difficulty=r,n.scene.add.existing(un(n)),n.scene.anims.create({key:fn,frames:n.scene.anims.generateFrameNames(h.Yuri,{prefix:fn,end:7,zeroPad:4}),frameRate:12,repeat:-1}),n.scene.events.on("update",n.update,un(n)),n.play(fn),n}return t=u,(r=[{key:"update",value:function(e,t){var r=this,n=1/(t/1e3);for(this.positions.push(new(c().Math.Vector2)(this.bamiko.body.position));this.positions.length>n;)this.positions.shift();if(this.isFollowing){var o=this.positions.find((function(e){var t=e.x,n=b.yuri.followDistance;return r.bamiko.body.position.x-t<=n}));if(o){var i=this.bamiko.body,u=i.width,a=i.height;this.setPosition(o.x+u/2,o.y+a/2)}}}},{key:"toggleFollow",value:function(e){this.isFollowing=e,e?this.play(fn):(this.stop(),this.setFrame("yuri_jump_0000"))}},{key:"destroy",value:function(e){this.scene&&(this.scene.events.off("update",this.update),rn(an(u.prototype),"destroy",this).call(this,e))}}])&&tn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().GameObjects.Sprite);function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}function hn(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}var bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dn(r);if(n){var o=dn(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return hn(this,e)});function i(){return pn(this,i),o.apply(this,arguments)}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(c().Scene),mn=(r(5218),r(4723),r(5306),JSON.parse('{"LoadingScene_Loading":{"text":"{0}%"},"LoadingScene_PlayButton":{"text":"PLAY!"},"LoadingScene_Ready":{"text":" !"},"IntroScene_Content1":{"text":"     \\n @Nanju_Bami, @maze_wry, @Glaciei_Candela  \\n  .\\n      ."},"IntroScene_Content2":{"text":"Runelight Entertainment presents"},"TitleScene_Title":{"text":"BAMIBALT"},"TitleScene_Continue":{"text":"/ "},"TitleScene_Start":{"text":"START!"},"TitleScene_Description":{"text":" "},"TitleScene_Mode_Classic":{"text":": "},"TitleScene_Mode_Extreme":{"text":": "},"TitleScene_Mode_Estelle":{"text":": "},"TitleScene_Highscore":{"text":": {0}m"},"TitleScene_Credits":{"text":"CREDITS"},"PopupScene_Description_Content1":{"text":"/     ."},"PopupScene_Description_Content2":{"text":"        ...!"},"PopupScene_Credits_Title1":{"text":""},"PopupScene_Credits_Content1":{"text":": rOn\\n: rOn\\n: rOn\\n: rOn\\n"},"PopupScene_Credits_Title2":{"text":""},"PopupScene_Credits_Content2":{"text":" (): @Nanju_Bami\\n (): @maze_wry\\n (): @Glaciei_Candela"},"ResultScene_Title_Normal":{"text":"   ~"},"ResultScene_Title_Highscore":{"text":"   ~?"},"ResultScene_Score":{"text":"{0}m"},"ResultScene_Retry_Button":{"text":""},"ResultScene_Title_Button":{"text":""}}')),vn=/([0-9]+)/g,wn=/(\{[0-9]+\})/g;function gn(e,t){var r=mn[e].text,n=r.match(wn),o=r;return n?(n.forEach((function(e){var r,n=null===(r=e.match(vn))||void 0===r?void 0:r[0];if(n){var i=null==t?void 0:t[n];void 0!==i&&(o=o.replace(e,"".concat(i)))}})),o):o}function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jn(e,t){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jn(e,t)}function Pn(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jn(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xn(n);if(o){var r=xn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Pn(this,e)});function c(e,t){var r,n=t.x,o=void 0===n?0:n,u=t.y,a=void 0===u?0:u,f=t.key,s=t.string,l=void 0===s?"":s,p=t.style,y=t.parameters;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var h=f?gn(f,y):l;return(r=i.call(this,e,o,a,h,Object.assign({fontFamily:"Black Han Sans",fontStyle:"400"},p))).key=f,r.parameters=y,r.scene.add.existing(_n(r)),r}return t=c,(r=[{key:"setKey",value:function(e){this.key=e,this.setText(gn(e))}},{key:"setParameters",value:function(e){if(this.key){var t=gn(this.key,Object.assign(Object.assign({},this.parameters),e));this.setText(t)}}}])&&Sn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(c().GameObjects.Text);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},En(e,t)}function Bn(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}var zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dn(n);if(o){var r=Dn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Bn(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e=i.call(this,{key:"GameUIScene"}),c.instance=Cn(e),e}return t=c,(r=[{key:"create",value:function(){var e=new kn(this,{style:{fontSize:"50px",color:"#ffffff",stroke:"#000000",strokeThickness:7}}),t=this.rexUI.add.anchor(e,{top:"0%+50",right:"100%-50"});this.scoreUI=e,this.anchor=t,this.toggle(!1)}},{key:"updateScore",value:function(e){this.scoreUI.setText("".concat(e,"m")),this.anchor.anchor()}},{key:"toggle",value:function(e){this.scoreUI.setVisible(e)}}])&&Tn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fn(){return Fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=An(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fn.apply(this,arguments)}function An(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nn(e)););return e}function Gn(e,t){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gn(e,t)}function Mn(e,t){if(t&&("object"===In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nn(n);if(o){var r=Nn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Mn(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e)).isPressed=!1,r.rexUI=e.rexUI,r.target=r.createUI(t).setInteractive().on("pointerdown",r.handlePointerDown,Ln(r)).on("pointerup",r.handlePointerUp,Ln(r)).on("pointerout",r.reset,Ln(r)),r.scene.add.existing(Ln(r)),r}return t=c,(r=[{key:"handlePointerDown",value:function(){this.onButtonDown(),this.isPressed=!0,this.emit("pressed")}},{key:"handlePointerUp",value:function(){this.isPressed&&(this.onButtonUp(),this.isPressed=!1,this.emit("released"))}},{key:"toggle",value:function(e){e?this.target.setInteractive():(this.target.disableInteractive(),this.reset())}},{key:"reset",value:function(){this.onReset(),this.isPressed=!1}},{key:"destroy",value:function(e){this.target.removeInteractive(),Fn(Nn(c.prototype),"destroy",this).call(this,e)}}])&&Un(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(r(7465).Z);function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hn(e,t){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hn(e,t)}function $n(e,t){if(t&&("object"===Jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}var qn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hn(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wn(n);if(o){var r=Wn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return $n(this,e)});function c(){return Yn(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"createUI",value:function(e){var t=e.muteColor,r=void 0===t?11184810:t,n=e.tintColor,o=void 0===n?4473924:n,i=this.scene.add.image(0,0,h.Object,d.VolumeButtonOn);return this.image=i,this.muteColor=r,this.tintColor=o,this.muted=this.scene.game.sound.mute,this.updateButton(),this.add(i),i}},{key:"toggleMute",value:function(){this.muted=!this.muted,this.scene.game.sound.mute=this.muted,this.updateButton()}},{key:"updateButton",value:function(){this.image.setFrame(this.muted?d.VolumeButtonOff:d.VolumeButtonOn),this.image.setTint(this.muted?this.muteColor:16777215)}},{key:"onButtonDown",value:function(){this.image.setTint(this.tintColor)}},{key:"onButtonUp",value:function(){this.onReset(),this.toggleMute()}},{key:"onReset",value:function(){this.updateButton()}}])&&Xn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Vn);function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Kn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qn(e,t){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qn(e,t)}function eo(e,t){if(t&&("object"===Zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return to(e)}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function oo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function io(){return io="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=co(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},io.apply(this,arguments)}function co(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}function ao(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}var so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uo(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fo(n);if(o){var r=fo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ao(this,e)});function c(e,t){var r,n=t.transition;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e,{closeOnTap:!0})).transition=n,r}return t=c,(r=[{key:"initializeComponents",value:function(e){io(fo(c.prototype),"initializeComponents",this).call(this,e);var t=this.createContent(e).setVisible(!1).layout();this.sizer=t,this.add(t)}},{key:"open",value:function(){io(fo(c.prototype),"open",this).call(this),this.sizer.setVisible(!0).layout(),this.transition&&this.sizer.popUp(100)}},{key:"close",value:function(){io(fo(c.prototype),"close",this).call(this),this.sizer.setVisible(!1)}}])&&oo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qn(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(n);if(o){var r=ro(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return eo(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e)).rexUI=e.rexUI,r.initializeComponents(t),r.setDepth(1e3),r.scene.add.existing(to(r)),r.rexUI.add.anchor(to(r),{x:"center",y:"center"}),r}return t=c,(r=[{key:"initializeComponents",value:function(e){var t=this,r=e.closeOnTap,n=void 0===r||r,o=this.scene.scale.gameSize,i=o.width,c=o.height;this.dimmedBackground=this.scene.add.rectangle(0,0,i,c,0).setAlpha(.5).setVisible(!1).setInteractive().on("pointerdown",(function(){n&&t.close()})),this.addLocal(this.dimmedBackground)}},{key:"open",value:function(){this.dimmedBackground&&this.dimmedBackground.setVisible(!0)}},{key:"close",value:function(){this.dimmedBackground&&this.dimmedBackground.setVisible(!1)}}])&&Kn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(r(823).Z));function lo(e){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function po(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yo(){return yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ho(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yo.apply(this,arguments)}function ho(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vo(e)););return e}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bo(e,t)}function mo(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}var wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vo(n);if(o){var r=vo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return mo(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{transition:!0})}return t=c,(r=[{key:"createContent",value:function(){this.texts=[];var e=this.rexUI.add.roundRectangle(0,0,0,0,50,16777215).setStrokeStyle(10,12394520),t=this.createCreditContent("PopupScene_Credits_Title1","PopupScene_Credits_Content1"),r=this.createCreditContent("PopupScene_Credits_Title2","PopupScene_Credits_Content2");return this.rexUI.add.sizer({orientation:"vertical",space:{top:50,left:50,right:50,bottom:50,item:40}}).addBackground(e).add(t).add(r)}},{key:"createCreditContent",value:function(e,t){var r=new kn(this.scene,{key:e,style:{fontSize:"60px",color:"#660000",align:"center"}}),n=new kn(this.scene,{key:t,style:{fontSize:"40px",color:"#000000",align:"center"}}),o=this.rexUI.add.sizer({orientation:"vertical",space:{item:10}}).add(r).add(n);return this.texts.push(r),this.texts.push(n),o}},{key:"open",value:function(){this.texts.forEach((function(e){e.updateText()})),yo(vo(c.prototype),"open",this).call(this)}}])&&po(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(so);function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function Oo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function So(){return So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=jo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},So.apply(this,arguments)}function jo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xo(e)););return e}function Po(e,t){return Po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Po(e,t)}function _o(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xo(e){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xo(e)}var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Po(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xo(n);if(o){var r=xo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _o(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{transition:!0})}return t=c,(r=[{key:"createContent",value:function(){this.texts=[];var e=this.rexUI.add.roundRectangle(0,0,0,0,50,16777215).setStrokeStyle(10,12394520),t=this.createDescriptionItem("PopupScene_Description_Content1",d.Description1),r=this.createDescriptionItem("PopupScene_Description_Content2",d.Description2);return this.rexUI.add.sizer({orientation:"vertical",space:{top:50,left:50,right:50,bottom:50,item:40}}).addBackground(e).add(t).add(r).layout()}},{key:"createDescriptionItem",value:function(e,t){var r=new kn(this.scene,{key:e,style:{fontSize:"40px",color:"#000000"}}),n=this.scene.add.image(0,0,h.Object,t),o=this.scene.add.image(0,0,h.Object,d.Finger),i=this.rexUI.add.overlapSizer().add(n,{align:"center",expand:!1}).add(o,{align:"center",offsetX:-n.width/2,offsetY:n.height/4,expand:!1}),c=this.rexUI.add.sizer({orientation:"vertical",space:{item:10}}).add(r).add(i);return this.texts.push(r),c}},{key:"open",value:function(){this.texts.forEach((function(e){e.updateText()})),So(xo(c.prototype),"open",this).call(this)}}])&&Oo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(so);function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function To(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eo(e,t){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eo(e,t)}function Bo(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Co(e)}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eo(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Do(n);if(o){var r=Do(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Bo(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e=i.call(this,{key:"PopupScene"}),c.instance=Co(e),e}return t=c,(r=[{key:"create",value:function(){this.muteButton=new qn(this,{muteColor:11184810,tintColor:4473924}),this.descriptionPopup=new ko(this),this.creditsPopup=new wo(this),this.rexUI.add.anchor(this.muteButton,{right:"100%-100",top:"0%+100"})}},{key:"setMuteButtonVisible",value:function(e){this.muteButton.setVisible(e)}},{key:"openDescriptionPopup",value:function(){this.descriptionPopup.open()}},{key:"openCreditsPopup",value:function(){this.creditsPopup.open()}}])&&To(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function Uo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fo(e,t){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fo(e,t)}function Ao(e,t){if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}var Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fo(e,t)}(u,e);var t,r,n,i,c=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Go(n);if(i){var r=Go(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ao(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=c.call(this,{key:"GameScene"})).isExtremeMode=!1,e}return t=u,r=[{key:"init",value:function(){this.cameras.main.setBackgroundColor(12316398),zn.instance.toggle(!0),zo.instance.setMuteButtonVisible(!1)}},{key:"create",value:function(){var e=this,t=this.registry.get("mode")===o.Extreme,r=new T(this),n=new K(this),i=new V(this,n),c=new sn(this,i,n),u=new Qr(this,{bamiko:i,difficulty:n}),a=new ue(this);this.background=r,this.difficulty=n,this.bamiko=i,this.yuri=c,this.obstacleGenerator=u,this.musicPlayer=a,this.targetOffsetX=b.camera.offsetX,this.cameras.main.roundPixels=!0,this.bamiko.on("damaged",this.handleDamage,this),this.bamiko.on("recover",this.handleRecover,this),this.bamiko.on("splatdeath",this.handleSplatDeath,this),this.bamiko.on("damagedeath",this.handleDamageDeath,this),this.bamiko.on("falldeath",this.handleFallDeath,this),this.events.once("shutdown",(function(){e.bamiko.off("damaged",e.handleDamage),e.bamiko.off("recover",e.handleRecover,e),e.bamiko.off("splatdeath",e.handleSplatDeath,e),e.bamiko.off("damagedeath",e.handleDamageDeath),e.bamiko.off("falldeath",e.handleFallDeath)})),this.isExtremeMode=t,t&&this.time.delayedCall(500,(function(){e.yuri.toggleFollow(!0),e.musicPlayer.switchToYuriTheme(),e.cameraTween=e.tweens.add({targets:e,targetOffsetX:b.camera.damagedOffsetX,duration:500,ease:"Sine.easeInOut"})}))}},{key:"handleDamage",value:function(){var e;this.yuri.toggleFollow(!0),this.musicPlayer.switchToYuriTheme(),this.cameras.main.shake(250,.01,!0),this.sound.play(x.Warning,{delay:.25}),null===(e=this.cameraTween)||void 0===e||e.stop(),this.cameraTween=this.tweens.add({targets:this,targetOffsetX:b.camera.damagedOffsetX,duration:500,ease:"Sine.easeInOut"})}},{key:"handleRecover",value:function(){var e,t=this;this.musicPlayer.switchToBamibaltTheme(),null===(e=this.cameraTween)||void 0===e||e.stop(),this.cameraTween=this.tweens.add({targets:this,targetOffsetX:b.camera.offsetX,duration:500,ease:"Sine.easeInOut",onComplete:function(){t.yuri.toggleFollow(!1)}})}},{key:"handleSplatDeath",value:function(){var e=this;this.cameras.main.shake(250,.01,!0),this.musicPlayer.stop(),this.bamiko.isDamaged||this.isExtremeMode?this.catchDeath():this.tweens.createTimeline().add({targets:this.bamiko,y:"+=500",duration:1e3,ease:"Quad.easeIn",onComplete:function(){e.gameOver()}}).play()}},{key:"handleDamageDeath",value:function(){this.cameras.main.shake(250,.01,!0),this.musicPlayer.stop(),this.catchDeath()}},{key:"handleFallDeath",value:function(){var e=this;this.musicPlayer.stop(),this.bamiko.isDamaged||this.isExtremeMode?this.catchDeath():this.tweens.createTimeline().add({targets:this.bamiko,y:"+=200",duration:500,onComplete:function(){e.cameras.main.shake(250,.01,!0),e.sound.play(x.Collision)}}).add({targets:this.bamiko,y:"+=200",duration:500,onComplete:function(){e.gameOver()}}).play()}},{key:"catchDeath",value:function(){var e=this,t=b.yuri.followDistance,r=this.difficulty.getDifficultySettings().maxSpeed,n=t/r*1e3;this.yuri.toggleFollow(!1),this.tweens.createTimeline().add({targets:this.yuri,x:this.bamiko.x,y:this.bamiko.y,duration:n}).add({targets:[this.bamiko,this.yuri],y:"-=200",duration:500,ease:"Quad.easeOut"}).add({targets:[this.bamiko,this.yuri],y:"+=200",duration:500,ease:"Quad.easeIn",onComplete:function(){e.gameOver()}}).add({targets:[this.bamiko,this.yuri],x:"+=".concat(r),angle:90*Phaser.Math.Between(1,10),duration:1e3,offset:n,onStart:function(){e.sound.play(x.Collision,{detune:500})}}).play()}},{key:"gameOver",value:function(){zn.instance.toggle(!1),zo.instance.setMuteButtonVisible(!0),this.scene.start("ResultScene",{record:this.currentScore})}},{key:"update",value:function(){var e=Math.round(this.bamiko.body.position.x/100);this.updateCamera(),zn.instance.updateScore(e),this.currentScore=e}},{key:"updateCamera",value:function(){var e=this.cameras.main,t=this.bamiko.body.position.x-this.targetOffsetX,r=Math.min(this.bamiko.body.position.y-b.camera.offsetY,0);e.setScroll(t,r)}}],r&&Uo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(bn);function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jo(e,t){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jo(e,t)}function Yo(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(e)}r(9600),r(561),r(189),r(6833);var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jo(e,t)}(u,e);var t,r,n,i,c=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xo(n);if(i){var r=Xo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Yo(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.call(this,{key:"BootScene"})}return t=u,(r=[{key:"preload",value:function(){var e,t=(e=new Set(Object.values(mn).map((function(e){return e.text})).join("")),function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return No(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?No(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).splice(0,300).join("");this.load.rexWebFont({google:{families:["Black Han Sans"]},testString:t})}},{key:"create",value:function(){this.registry.set("mode",o.Classic),this.scene.start("LoadingScene")}}])&&Vo(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(bn),$o=r.p+"images/title_screen.png",Wo=r.p+"images/gameover_screen.png",qo=r.p+"images/bamiko.png",Zo=JSON.parse('{"textures":[{"image":"bamiko.png","format":"RGBA8888","size":{"w":436,"h":478},"scale":1,"frames":[{"filename":"bamiko_run_0005","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":1,"y":6,"w":107,"h":164},"frame":{"x":1,"y":1,"w":107,"h":164}},{"filename":"bamiko_run_0004","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":1,"y":3,"w":119,"h":147},"frame":{"x":110,"y":1,"w":119,"h":147}},{"filename":"bamiko_run_0000","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":3,"y":3,"w":117,"h":145},"frame":{"x":231,"y":1,"w":117,"h":145}},{"filename":"bamiko_run_0003","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":10,"y":6,"w":98,"h":157},"frame":{"x":1,"y":167,"w":98,"h":157}},{"filename":"bamiko_run_0007","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":11,"y":4,"w":96,"h":151},"frame":{"x":1,"y":326,"w":96,"h":151}},{"filename":"bamiko_run_0006","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":12,"y":11,"w":82,"h":168},"frame":{"x":350,"y":1,"w":82,"h":168}},{"filename":"bamiko_run_0001","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":10,"y":7,"w":96,"h":157},"frame":{"x":101,"y":167,"w":96,"h":157}},{"filename":"bamiko_jump_0000","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":10,"y":16,"w":100,"h":150},"frame":{"x":99,"y":326,"w":100,"h":150}},{"filename":"bamiko_run_0002","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":19,"y":16,"w":80,"h":164},"frame":{"x":199,"y":150,"w":80,"h":164}},{"filename":"bamiko_splat_0000","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":64,"y":0,"w":56,"h":180},"frame":{"x":281,"y":148,"w":56,"h":180}},{"filename":"bamiko_jump_0001","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":13,"y":16,"w":96,"h":141},"frame":{"x":339,"y":171,"w":96,"h":141}},{"filename":"bamiko_ouch_0000","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":4,"y":22,"w":111,"h":144},"frame":{"x":201,"y":330,"w":111,"h":144}},{"filename":"bamiko_jump_0002","rotated":false,"trimmed":true,"sourceSize":{"w":120,"h":180},"spriteSourceSize":{"x":11,"y":15,"w":101,"h":140},"frame":{"x":314,"y":330,"w":101,"h":140}}]}],"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"3.0","smartupdate":"$TexturePacker:SmartUpdate:20cb9feb52482484978ff560371f15f6:e0054d49ad9fd52e4729ba477c72875f:b4714e360bcfc0eccbcd66aa42a8cfb6$"}}'),Ko=r.p+"images/yuri.png",Qo=JSON.parse('{"textures":[{"image":"yuri.png","format":"RGBA8888","size":{"w":400,"h":464},"scale":1,"frames":[{"filename":"yuri_run_0005","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":11,"y":7,"w":135,"h":163},"frame":{"x":1,"y":1,"w":135,"h":163}},{"filename":"yuri_run_0006","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":9,"y":13,"w":130,"h":167},"frame":{"x":1,"y":166,"w":130,"h":167}},{"filename":"yuri_jump_0000","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":26,"y":20,"w":145,"h":128},"frame":{"x":1,"y":335,"w":145,"h":128}},{"filename":"yuri_run_0002","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":9,"y":16,"w":128,"h":164},"frame":{"x":138,"y":1,"w":128,"h":164}},{"filename":"yuri_run_0001","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":10,"y":9,"w":131,"h":155},"frame":{"x":268,"y":1,"w":131,"h":155}},{"filename":"yuri_run_0004","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":28,"y":4,"w":135,"h":146},"frame":{"x":133,"y":167,"w":135,"h":146}},{"filename":"yuri_run_0007","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":44,"y":6,"w":101,"h":148},"frame":{"x":148,"y":315,"w":101,"h":148}},{"filename":"yuri_run_0003","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":41,"y":7,"w":92,"h":156},"frame":{"x":270,"y":158,"w":92,"h":156}},{"filename":"yuri_run_0000","rotated":false,"trimmed":true,"sourceSize":{"w":200,"h":180},"spriteSourceSize":{"x":28,"y":4,"w":132,"h":143},"frame":{"x":251,"y":316,"w":132,"h":143}}]}],"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"3.0","smartupdate":"$TexturePacker:SmartUpdate:6754343bed08672da5897df90934effd:37c3052ca59a9f763d9aca5cb6b69005:581205fd5cf0151d54506fb9608a175e$"}}'),ei=r.p+"images/estelle.png",ti=JSON.parse('{"textures":[{"image":"estelle.png","format":"RGBA8888","size":{"w":1071,"h":122},"scale":1,"frames":[{"filename":"estelle_fly_0001","rotated":false,"trimmed":true,"sourceSize":{"w":280,"h":120},"spriteSourceSize":{"x":7,"y":0,"w":266,"h":120},"frame":{"x":1,"y":1,"w":266,"h":120}},{"filename":"estelle_fly_0002","rotated":false,"trimmed":true,"sourceSize":{"w":280,"h":120},"spriteSourceSize":{"x":7,"y":0,"w":266,"h":120},"frame":{"x":269,"y":1,"w":266,"h":120}},{"filename":"estelle_hurt_0000","rotated":false,"trimmed":true,"sourceSize":{"w":280,"h":120},"spriteSourceSize":{"x":7,"y":0,"w":266,"h":120},"frame":{"x":537,"y":1,"w":266,"h":120}},{"filename":"estelle_fly_0000","rotated":false,"trimmed":true,"sourceSize":{"w":280,"h":120},"spriteSourceSize":{"x":8,"y":0,"w":265,"h":120},"frame":{"x":805,"y":1,"w":265,"h":120}}]}],"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"3.0","smartupdate":"$TexturePacker:SmartUpdate:7710e7a274f0b6735eb4ecdd39f2f522:6c767147356753160c228ac05015f135:3d1dd633be02b934dda006792f9b1ffe$"}}'),ri=r.p+"images/object.png",ni=JSON.parse('{"textures":[{"image":"object.png","format":"RGBA8888","size":{"w":1606,"h":2022},"scale":1,"frames":[{"filename":"billboard","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":1400},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":1400},"frame":{"x":1,"y":1,"w":600,"h":1400}},{"filename":"billboard_picture_01","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1,"y":1403,"w":600,"h":316}},{"filename":"description1","rotated":false,"trimmed":false,"sourceSize":{"w":500,"h":300},"spriteSourceSize":{"x":0,"y":0,"w":500,"h":300},"frame":{"x":1,"y":1721,"w":500,"h":300}},{"filename":"description2","rotated":false,"trimmed":false,"sourceSize":{"w":500,"h":300},"spriteSourceSize":{"x":0,"y":0,"w":500,"h":300},"frame":{"x":503,"y":1721,"w":500,"h":300}},{"filename":"billboard_picture_02","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":1,"w":600,"h":316}},{"filename":"billboard_picture_03","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":319,"w":600,"h":316}},{"filename":"billboard_picture_04","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":637,"w":600,"h":316}},{"filename":"billboard_picture_05","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":955,"w":600,"h":316}},{"filename":"billboard_picture_06","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":1273,"w":600,"h":316}},{"filename":"billboard_picture_07","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":316},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":316},"frame":{"x":1005,"y":1591,"w":600,"h":316}},{"filename":"platform","rotated":false,"trimmed":false,"sourceSize":{"w":600,"h":2},"spriteSourceSize":{"x":0,"y":0,"w":600,"h":2},"frame":{"x":1005,"y":1909,"w":600,"h":2}},{"filename":"box","rotated":false,"trimmed":false,"sourceSize":{"w":100,"h":100},"spriteSourceSize":{"x":0,"y":0,"w":100,"h":100},"frame":{"x":1005,"y":1913,"w":100,"h":100}},{"filename":"window_shard_04","rotated":false,"trimmed":true,"sourceSize":{"w":20,"h":20},"spriteSourceSize":{"x":4,"y":1,"w":14,"h":18},"frame":{"x":1107,"y":1913,"w":14,"h":18}},{"filename":"window_shard_00","rotated":false,"trimmed":true,"sourceSize":{"w":20,"h":20},"spriteSourceSize":{"x":0,"y":2,"w":20,"h":15},"frame":{"x":1107,"y":1933,"w":20,"h":15}},{"filename":"window_shard_02","rotated":false,"trimmed":true,"sourceSize":{"w":20,"h":20},"spriteSourceSize":{"x":6,"y":3,"w":7,"h":12},"frame":{"x":1123,"y":1913,"w":7,"h":12}},{"filename":"window_shard_01","rotated":false,"trimmed":true,"sourceSize":{"w":20,"h":20},"spriteSourceSize":{"x":5,"y":4,"w":10,"h":11},"frame":{"x":1107,"y":1950,"w":10,"h":11}},{"filename":"window_shard_03","rotated":false,"trimmed":true,"sourceSize":{"w":20,"h":20},"spriteSourceSize":{"x":0,"y":6,"w":20,"h":8},"frame":{"x":1107,"y":1963,"w":20,"h":8}},{"filename":"finger","rotated":false,"trimmed":true,"sourceSize":{"w":140,"h":120},"spriteSourceSize":{"x":1,"y":0,"w":138,"h":120},"frame":{"x":603,"y":1,"w":138,"h":120}},{"filename":"volume_button_on","rotated":false,"trimmed":true,"sourceSize":{"w":125,"h":125},"spriteSourceSize":{"x":1,"y":6,"w":124,"h":115},"frame":{"x":743,"y":1,"w":124,"h":115}},{"filename":"volume_button_off","rotated":false,"trimmed":true,"sourceSize":{"w":125,"h":125},"spriteSourceSize":{"x":1,"y":6,"w":122,"h":115},"frame":{"x":869,"y":1,"w":122,"h":115}},{"filename":"window","rotated":false,"trimmed":false,"sourceSize":{"w":10,"h":300},"spriteSourceSize":{"x":0,"y":0,"w":10,"h":300},"frame":{"x":993,"y":1,"w":10,"h":300}}]}],"meta":{"app":"https://www.codeandweb.com/texturepacker","version":"3.0","smartupdate":"$TexturePacker:SmartUpdate:c8026bd7c13c20b4cafd2f5ef5923dc1:e9183933b759724fe365bbf2ea982de3:0862de17022a6d35947ec7958362445d$"}}'),oi=r.p+"images/ground.png",ii=r.p+"images/building_top.png",ci=r.p+"images/building_inside.png",ui=r.p+"images/building_bottom.png",ai=r.p+"images/sky.png",fi=r.p+"images/bg_building_front.png",si=r.p+"images/bg_building_back.png",li=r.p+"sounds/Title_Theme.mp3",pi=r.p+"sounds/Bamibalt_Theme.mp3",yi=r.p+"sounds/Yuri_Mini_Theme.mp3",hi=r.p+"sounds/Estelle_Mini_Theme.mp3",di=r.p+"sounds/GameOver_Theme.mp3",bi=r.p+"sounds/hit.mp3",mi=r.p+"sounds/jump.mp3",vi=r.p+"sounds/land.mp3",wi=r.p+"sounds/splat.mp3",gi=r.p+"sounds/window_break.mp3",Oi=r.p+"sounds/plane.mp3",Si=r.p+"sounds/fall.mp3",ji=r.p+"sounds/warning.mp3",Pi=r.p+"sounds/click.mp3",_i=r.p+"sounds/select.mp3",xi=r.p+"sounds/runaway.mp3";function ki(e,t){var r=Phaser.Display.Color.IntegerToColor(e),n=Phaser.Display.Color.IntegerToColor(t);return r.redGL*=n.redGL,r.greenGL*=n.greenGL,r.blueGL*=n.blueGL,r.color}function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bi(e,t){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bi(e,t)}function Ci(e,t){if(t&&("object"===Ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Di(e){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Di(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Di(n);if(o){var r=Di(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ci(this,e)});function c(){return Ti(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"createUI",value:function(e){var t=e.width,r=e.height,n=e.key,o=e.style,i=e.radius,c=void 0===i?0:i,u=e.color,a=void 0===u?16777215:u,f=e.tintColor,s=void 0===f?11184810:f,l=e.strokeColor,p=void 0===l?12394520:l,y=e.strokeThickness,h=void 0===y?0:y,d=this.rexUI.add.roundRectangle(0,0,t,r,c,a).setStrokeStyle(h,p),b=new kn(this.scene,{key:n,style:o}).setOrigin(.5,.5);return this.roundRectangle=d,this.text=b,this.color=a,this.strokeColor=p,this.tintColor=s,this.add(d).add(b,{expand:!1}).layout(),d}},{key:"onButtonDown",value:function(){this.roundRectangle.fillColor=ki(this.roundRectangle.fillColor,this.tintColor),this.roundRectangle.strokeColor=ki(this.roundRectangle.strokeColor,this.tintColor),this.text.setTint(this.tintColor)}},{key:"onButtonUp",value:function(){this.onReset()}},{key:"onReset",value:function(){this.roundRectangle.fillColor=this.color,this.roundRectangle.strokeColor=this.strokeColor,this.text.setTint(16777215)}}])&&Ei(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Vn);function Ii(e){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(e)}function Ui(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fi(){return Fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ai(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fi.apply(this,arguments)}function Ai(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Li(e)););return e}function Gi(e,t){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gi(e,t)}function Mi(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Li(e){return Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Li(e)}var Ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gi(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Li(n);if(o){var r=Li(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Mi(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:280,height:110,radius:55,key:"LoadingScene_PlayButton",style:{fontSize:"55px",color:"#ffffff",stroke:"#660000",strokeThickness:11},color:12394520,strokeColor:16777215,strokeThickness:7})}return t=c,(r=[{key:"onButtonUp",value:function(){var e=this;Fi(Li(c.prototype),"onButtonUp",this).call(this),this.scene.input.mouse.enabled=!1,this.scene.cameras.main.fadeOut(400,0,0,0),this.scene.cameras.main.once(Phaser.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){e.scene.input.mouse.enabled=!0,e.scene.scene.start("IntroScene")}))}}])&&Ui(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi);function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yi(e,t){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yi(e,t)}function Xi(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}var $i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hi(n);if(o){var r=Hi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Xi(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,{key:"LoadingScene"})}return t=c,(r=[{key:"preload",value:function(){var e=new kn(this,{key:"LoadingScene_Loading",parameters:{0:0},style:{fontSize:"50px",color:"#ffffff"}}).setOrigin(.5,.5),t=this.rexUI.add.anchor(e,{x:"center",y:"100%-200"});this.load.image(h.TitleScreen,$o),this.load.image(h.GameOverScreen,Wo),this.load.atlas(h.Bamiko,qo,Zo),this.load.atlas(h.Yuri,Ko,Qo),this.load.atlas(h.Estelle,ei,ti),this.load.atlas(h.Object,ri,ni),this.load.image(h.Ground,oi),this.load.image(h.BuildingTop,ii),this.load.image(h.BuildingInside,ci),this.load.image(h.BuildingBottom,ui),this.load.image(h.Sky,ai),this.load.image(h.BGBuildingFront,fi),this.load.image(h.BGBuildingBack,si),this.load.audio(_.Title,li),this.load.audio(_.Bamibalt,pi),this.load.audio(_.Yuri,yi),this.load.audio(_.Estelle,hi),this.load.audio(_.GameOver,di),this.load.audio(x.Collision,bi),this.load.audio(x.Jump,mi),this.load.audio(x.Land,vi),this.load.audio(x.Splat,wi),this.load.audio(x.WindowCrash,gi),this.load.audio(x.Plane,Oi),this.load.audio(x.Fall,Si),this.load.audio(x.Warning,ji),this.load.audio(x.ButtonClick,Pi),this.load.audio(x.Select,_i),this.load.audio(x.RunAway,xi),this.load.on("progress",(function(r){e.setParameters({0:Math.round(100*r)}),t.anchor()})),this.load.once("complete",(function(){e.setKey("LoadingScene_Ready")}))}},{key:"create",value:function(){var e=new Ni(this);this.rexUI.add.anchor(e,{x:"center",y:"100%-100"}),this.scene.add("GameUIScene",zn,!0),this.scene.add("PopupScene",zo,!0)}}])&&Ji(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);function Wi(e){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wi(e)}function qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zi(){return Zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ki(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Zi.apply(this,arguments)}function Ki(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tc(e)););return e}function Qi(e,t){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qi(e,t)}function ec(e,t){if(t&&("object"===Wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tc(e){return tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tc(e)}var rc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tc(n);if(o){var r=tc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ec(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:220,height:70,radius:35,key:"TitleScene_Credits",style:{fontSize:"35px",color:"#ffffff"},color:0,strokeColor:16777215,strokeThickness:7})}return t=c,(r=[{key:"onButtonUp",value:function(){Zi(tc(c.prototype),"onButtonUp",this).call(this),this.scene.sound.play(x.ButtonClick),zo.instance.openCreditsPopup()}}])&&qi(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi);function nc(e){return nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(e)}function oc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ic(){return ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ic.apply(this,arguments)}function cc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fc(e)););return e}function uc(e,t){return uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uc(e,t)}function ac(e,t){if(t&&("object"===nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fc(e)}var sc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uc(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fc(n);if(o){var r=fc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ac(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:220,height:90,radius:45,key:"TitleScene_Description",style:{fontSize:"40px",color:"#ffffff",stroke:"#660000",strokeThickness:8},color:12394520,strokeColor:16777215,strokeThickness:7})}return t=c,(r=[{key:"onButtonUp",value:function(){ic(fc(c.prototype),"onButtonUp",this).call(this),this.scene.sound.play(x.ButtonClick),zo.instance.openDescriptionPopup()}}])&&oc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi);function lc(e){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}function pc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yc(){return yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=hc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yc.apply(this,arguments)}function hc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mc(e)););return e}function dc(e,t){return dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dc(e,t)}function bc(e,t){if(t&&("object"===lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mc(e){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mc(e)}var vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dc(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mc(n);if(o){var r=mc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return bc(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:260,height:110,radius:55,key:"TitleScene_Start",style:{fontSize:"50px",color:"#ffffff",stroke:"#660000",strokeThickness:10},color:12394520,strokeColor:16777215,strokeThickness:7})}return t=c,(r=[{key:"onButtonUp",value:function(){var e=this;yc(mc(c.prototype),"onButtonUp",this).call(this),this.scene.sound.play(x.RunAway),this.scene.input.mouse.enabled=!1,this.scene.cameras.main.fadeOut(400,0,0,0),this.scene.cameras.main.once(Phaser.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){e.scene.input.mouse.enabled=!0,e.scene.scene.start("GameScene")}))}}])&&pc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi),wc=(r(7941),r(441));function gc(e){return gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(e)}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jc(e,t){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jc(e,t)}function Pc(e,t){if(t&&("object"===gc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_c(e)}var xc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jc(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_c(n);if(o){var r=_c(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Pc(this,e)});function c(){return Oc(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"createUI",value:function(e){var t,r,n,o,i=this.createTriangle(e);return i.setStrokeStyle(7,null!==(t=e.strokeColor)&&void 0!==t?t:12394520),this.triangle=i,this.color=null!==(r=e.color)&&void 0!==r?r:16777215,this.strokeColor=null!==(n=e.strokeColor)&&void 0!==n?n:12394520,this.tintColor=null!==(o=e.tintColor)&&void 0!==o?o:11184810,this.add(i).layout(),i}},{key:"createTriangle",value:function(e){var t=e.width,r=e.height,n=e.direction,o=e.color,i=void 0===o?16777215:o;return"left"===n?this.scene.add.triangle(0,0,0,r/2,t,r,t,0,i):this.scene.add.triangle(0,0,0,0,0,r,t,r/2,i)}},{key:"onButtonDown",value:function(){this.triangle.fillColor=ki(this.triangle.fillColor,this.tintColor),this.triangle.strokeColor=ki(this.triangle.strokeColor,this.tintColor)}},{key:"onButtonUp",value:function(){this.onReset()}},{key:"onReset",value:function(){this.triangle.fillColor=this.color,this.triangle.strokeColor=this.strokeColor}}])&&Sc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Vn);function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function Rc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tc(){return Tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Ec(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Tc.apply(this,arguments)}function Ec(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zc(e)););return e}function Bc(e,t){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bc(e,t)}function Cc(e,t){if(t&&("object"===kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dc(e)}function Dc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zc(e){return zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zc(e)}var Ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bc(e,t)}(u,e);var t,r,n,i,c=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zc(n);if(i){var r=zc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Cc(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e,{orientation:"horizontal",space:{item:20}})).rexUI=e.rexUI,t.initializeComponents(),t.scene.add.existing(Dc(t)),t}return t=u,(r=[{key:"initializeComponents",value:function(){var e=new xc(this.scene,{width:70,height:80,direction:"left",color:12394520,strokeColor:6684672}),t=this.createCurrentModeUI(),r=new xc(this.scene,{width:70,height:80,direction:"right",color:12394520,strokeColor:6684672});e.on("released",this.handleLeftArrowPressed,this),r.on("released",this.handleRightArrowPressed,this),this.leftArrowButton=e,this.rightArrowButton=r,this.add(e).add(t).add(r).layout()}},{key:"createCurrentModeUI",value:function(){var e=this.rexUI.add.roundRectangle(0,0,280,90,30,16777215).setStrokeStyle(7,12394520),t=new kn(this.scene,{key:p(this.scene.registry.get("mode")),style:{fontSize:"40px",color:"#660000",align:"center"}}),r=this.rexUI.add.overlapSizer().add(e,{expand:!1}).add(t,{expand:!1});return this.modeText=t,this.scene.registry.events.on("changedata",this.handleChangeData,this),r}},{key:"handleLeftArrowPressed",value:function(){var e=Object.keys(o).length/2,t=(e+this.scene.registry.get("mode")-1)%e;this.scene.registry.set("mode",t),this.scene.sound.play(x.ButtonClick)}},{key:"handleRightArrowPressed",value:function(){var e=Object.keys(o).length/2,t=(e+this.scene.registry.get("mode")+1)%e;this.scene.registry.set("mode",t),this.scene.sound.play(x.ButtonClick)}},{key:"handleChangeData",value:function(e,t,r){"mode"===t&&(this.modeText.setKey(p(r)),this.layout())}},{key:"destroy",value:function(e){this.leftArrowButton.off("pressed",this.handleLeftArrowPressed),this.rightArrowButton.off("pressed",this.handleRightArrowPressed),this.scene.registry.events.off("changedata",this.handleChangeData),Tc(zc(u.prototype),"destroy",this).call(this,e)}}])&&Rc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(wc.Z);function Uc(e){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fc(e,t)}function Ac(e,t){if(t&&("object"===Uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}var Mc,Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(i,e);var t,r,n,o=(r=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gc(r);if(n){var o=Gc(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Ac(this,e)});function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=(t=o.call(this,e,{key:"TitleScene_Title",style:{color:"#ffffff",fontSize:"180px",stroke:"#bd2018",strokeThickness:20,shadow:{stroke:!0,color:"#000000aa",blur:10,offsetY:10},padding:{left:10,right:10,bottom:10}}})).context.createLinearGradient(0,t.height,0,0);return r.addColorStop(0,"#aaaaaa"),r.addColorStop(.25,"#ffffff"),r.addColorStop(.5,"#ffffff"),r.addColorStop(.75,"#ffffff"),r.addColorStop(1,"#aaaaaa"),t.setFill(r),t.setOrigin(.5,.5),t}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(kn);function Nc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jc="BAMIBALT",Yc=(Vc(Mc={},o.Classic,0),Vc(Mc,o.Extreme,0),Vc(Mc,o.Estelle,0),Mc),Xc=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,(r=[{key:"getHighScoreMap",value:function(){var e=window.localStorage.getItem(Jc);if(!e)return Yc;var t=JSON.parse(e);return Object.assign(Object.assign({},Yc),t)}},{key:"getHighScore",value:function(e){var t;return null!==(t=this.getHighScoreMap()[e])&&void 0!==t?t:0}},{key:"setHighScore",value:function(e,t){var r=this.getHighScoreMap();e>r[t]&&(r[t]=e,window.localStorage.setItem(Jc,JSON.stringify(r)))}}])&&Nc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Hc(e){return Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(e)}function $c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wc(e,t){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wc(e,t)}function qc(e,t){if(t&&("object"===Hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zc(e){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zc(e)}var Kc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wc(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zc(n);if(o){var r=Zc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return qc(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,{key:"TitleScene"})).isFirstTime=!0,e}return t=c,(r=[{key:"create",value:function(){var e=this,t=this.add.image(0,0,h.TitleScreen),r=new kn(this,{key:"TitleScene_Continue",style:{color:"#ffffff",fontSize:"50px",stroke:"#000000",strokeThickness:6}}).setOrigin(.5,.5),n=new kn(this,{key:"TitleScene_Highscore",parameters:{0:Xc.getHighScore(this.registry.get("mode"))},style:{color:"#ffffff",fontSize:"50px",stroke:"#000000",strokeThickness:6}}),o=new Lc(this),i=new vc(this),c=new sc(this),u=new Ic(this),a=new rc(this),f=this.rexUI.add.sizer({orientation:"vertical",space:{item:30}}).add(i).add(c).add(u).layout(),s=this.rexUI.add.overlapSizer({width:this.scale.gameSize.width,height:this.scale.gameSize.height,anchor:{x:"center",y:"center"}}).add(n,{align:"left-top",offsetX:50,offsetY:50,expand:!1}).add(a,{align:"right-bottom",offsetX:-50,offsetY:-50,expand:!1}).add(f,{align:"center",offsetY:300,expand:!1}).setVisible(!1).layout();this.tapToStart=r,this.uiSizer=s,this.highScoreText=n,this.rexUI.add.anchor(t,{x:"center",y:"center"}),this.rexUI.add.anchor(o,{x:"center",y:"22%"}),this.rexUI.add.anchor(r,{x:"center",y:"75%"}),this.sound.play(_.Title,{loop:!0}),this.isFirstTime?(this.input.once("pointerdown",this.handleTapToStart,this),this.tweens.add({targets:r,alpha:0,duration:1e3,ease:"Sine.easeIn",yoyo:!0,repeat:-1}),this.isFirstTime=!1):(this.tapToStart.setVisible(!1),this.uiSizer.setVisible(!0)),this.registry.events.on("changedata",this.handleChangeData,this),this.events.once("shutdown",(function(){e.sound.stopByKey(_.Title),e.input.off("pointerdown",e.handleTapToStart),e.registry.events.off("changedata",e.handleChangeData)})),this.cameras.main.fadeIn(400,0,0,0),this.tweens.createTimeline().add({targets:t,scale:1,duration:12e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,onStart:function(){t.setScale(1.1)}}).play()}},{key:"handleTapToStart",value:function(){this.tapToStart.setVisible(!1),this.uiSizer.setVisible(!0),this.sound.play(x.Select)}},{key:"handleChangeData",value:function(e,t){"mode"===t&&this.highScoreText.setParameters({0:Xc.getHighScore(this.registry.get("mode"))})}}])&&$c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tu(){return tu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ru(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tu.apply(this,arguments)}function ru(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=iu(e)););return e}function nu(e,t){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nu(e,t)}function ou(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iu(e)}var cu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nu(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=iu(n);if(o){var r=iu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ou(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:230,height:90,radius:45,key:"ResultScene_Retry_Button",style:{fontSize:"50px",color:"#000000"}})}return t=c,(r=[{key:"onButtonUp",value:function(){var e=this;tu(iu(c.prototype),"onButtonUp",this).call(this),this.scene.sound.play(x.RunAway),this.scene.input.mouse.enabled=!1,this.scene.cameras.main.fadeOut(400,0,0,0),this.scene.cameras.main.once(Phaser.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){e.scene.input.mouse.enabled=!0,e.scene.scene.start("GameScene")}))}}])&&eu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi);function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}function au(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fu(){return fu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=su(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fu.apply(this,arguments)}function su(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yu(e)););return e}function lu(e,t){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lu(e,t)}function pu(e,t){if(t&&("object"===uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(e)}var hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yu(n);if(o){var r=yu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return pu(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e,{width:230,height:90,radius:45,key:"ResultScene_Title_Button",style:{fontSize:"50px",color:"#000000"}})}return t=c,(r=[{key:"onButtonUp",value:function(){var e=this;fu(yu(c.prototype),"onButtonUp",this).call(this),this.scene.sound.play(x.ButtonClick),this.scene.input.mouse.enabled=!1,this.scene.cameras.main.fadeOut(400,0,0,0),this.scene.cameras.main.once(Phaser.Cameras.Scene2D.Events.FADE_OUT_COMPLETE,(function(){e.scene.input.mouse.enabled=!0,e.scene.scene.start("TitleScene")}))}}])&&au(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(zi);function du(e){return du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(e)}function bu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mu(e,t){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mu(e,t)}function vu(e,t){if(t&&("object"===du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wu(e)}var gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mu(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wu(n);if(o){var r=wu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return vu(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,{key:"ResultScene"})}return t=c,(r=[{key:"init",value:function(e){if(!e)throw new Error("No result data provided");this.result=e}},{key:"create",value:function(){var e=this,t=this.result.record,r=Xc.getHighScore(this.registry.get("mode")),n=this.add.image(0,0,h.GameOverScreen),o=new kn(this,{key:t>r?"ResultScene_Title_Highscore":"ResultScene_Title_Normal",style:{fontSize:"110px",stroke:"#000000",strokeThickness:10}}),i=new kn(this,{key:p(this.registry.get("mode")),style:{fontSize:"90px",stroke:"#000000",strokeThickness:9}}),c=new kn(this,{key:"ResultScene_Score",parameters:{0:t},style:{fontSize:"80px",stroke:"#000000",strokeThickness:8}}),u=new cu(this),a=new hu(this);this.cameras.main.fadeIn(1e3,0,0,0),this.sound.play(_.GameOver,{loop:!0}),Xc.setHighScore(t,this.registry.get("mode")),this.rexUI.add.anchor(n,{x:"center",y:"center"}),this.rexUI.add.sizer({orientation:"vertical",anchor:{left:"0%+50",top:"0%+80"},space:{item:10}}).add(o,{align:"left"}).add(i,{align:"left",padding:{left:40}}).add(c,{align:"left",padding:{left:80}}).layout(),this.rexUI.add.sizer({orientation:"horizontal",anchor:{right:"100%-50",y:"100%-80"},space:{item:30}}).add(u).add(a).layout(),this.events.once("shutdown",(function(){e.sound.stopByKey(_.GameOver)}))}}])&&bu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);function Ou(e){return Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(e)}function Su(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ju(e,t){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ju(e,t)}function Pu(e,t){if(t&&("object"===Ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _u(e){return _u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_u(e)}var xu=[{key:"IntroScene_Content1",style:{fontSize:"40px",color:"#ffffff",align:"center"},duration:3e3},{key:"IntroScene_Content2",style:{fontSize:"40px",color:"#ffffff",align:"center"},duration:1e3}],ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ju(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_u(n);if(o){var r=_u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Pu(this,e)});function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,{key:"IntroScene"})).texts=[],e.currentIndex=0,e}return t=c,(r=[{key:"create",value:function(){var e=this;xu.forEach((function(t){var r=e.createTextItem(t);e.texts.push(r)})),this.texts.length>0&&this.texts[0].timeline.play(),this.input.on("pointerdown",this.handleSkipText,this),this.events.once("shutdown",(function(){e.input.off("pointerdown",e.handleSkipText)}))}},{key:"createTextItem",value:function(e){var t=this,r=e.key,n=e.style,o=e.duration,i=new kn(this,{key:r,style:n}).setOrigin(.5,.5).setAlpha(0),c=this.tweens.createTimeline().add({targets:i,alpha:1,duration:1e3}).add({targets:i,alpha:1,duration:o}).add({targets:i,alpha:0,duration:1e3}).add({targets:i,alpha:0,duration:1e3,onComplete:function(){t.next()}});return this.rexUI.add.anchor(i,{x:"center",y:"center"}),{text:i,timeline:c}}},{key:"next",value:function(){this.currentIndex++,this.currentIndex>this.texts.length-1?this.scene.start("TitleScene"):this.texts[this.currentIndex].timeline.play()}},{key:"handleSkipText",value:function(){var e=this.texts[this.currentIndex];e&&(e.timeline.stop(),e.text.setAlpha(0),this.next())}}])&&Su(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(bn);window.addEventListener("load",(function(){var e;e={width:1920,height:1080,scale:{mode:c().Scale.ScaleModes.FIT,autoCenter:c().Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:3e3}}},scene:[Ho,$i,ku,Kc,Mo,gu],title:"BAMIBALT",url:"https://github.com/andrewpk95/Bamibalt",plugins:{global:[{key:"rexWebFontLoader",plugin:a.Z,start:!0}],scene:[{key:"rexUI",plugin:u.Z,mapping:"rexUI"}]}},new(c().Game)(e)}))}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=function(t,r,o,i){if(!r){var c=1/0;for(s=0;s<e.length;s++){r=e[s][0],o=e[s][1],i=e[s][2];for(var u=!0,a=0;a<r.length;a++)(!1&i||c>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[a])}))?r.splice(a--,1):(u=!1,i<c&&(c=i));if(u){e.splice(s--,1);var f=o();void 0!==f&&(t=f)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[r,o,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,c=r[0],u=r[1],a=r[2],f=0;if(c.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(a)var s=a(n)}for(t&&t(r);f<c.length;f++)i=c[f],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(s)},r=self.webpackChunkbamibalt=self.webpackChunkbamibalt||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var o=n.O(void 0,[736],(function(){return n(5780)}));o=n.O(o)}();
//# sourceMappingURL=main.js.map